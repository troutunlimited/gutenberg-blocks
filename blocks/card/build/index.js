!function(){"use strict";var e,t={837:function(){var e=window.wp.blocks,t=window.wp.data,a=window.wp.element,l=(window.wp.i18n,window.wp.blockEditor),n=window.wp.components;function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(this,arguments)}(0,e.registerBlockType)("mtheory/card",{edit:(0,t.withSelect)(((e,t)=>({media:t.attributes.mediaId?e("core").getMedia(t.attributes.mediaId):void 0})))((function({attributes:e,setAttributes:t}){const{title:r,truncatedTitle:i,titleTag:c,titleClass:o,linkUrl:s,excerpt:u,buttonText:m,imageObj:d,author:h,authorImageObj:p}=e;return[(0,a.createElement)("div",(0,l.useBlockProps)(),(0,a.createElement)(l.MediaUploadCheck,null,(0,a.createElement)(l.MediaUpload,{onSelect:e=>(e=>{if(e.height<853||e.width<1280)return!1;t({imageObj:e})})(e),allowedTypes:["image"],render:({open:e})=>(e=>null!==d&&d.sizes.md_3x2?(0,a.createElement)("div",{class:"card-media"},(0,a.createElement)("img",{src:d.sizes.md_3x2.url,onClick:e,className:`image wp-image-${d.id}`})):(0,a.createElement)("div",{className:"card-image-button-container button-container"},(0,a.createElement)(n.Button,{onClick:e,className:"button button-large"},"Add an image")))(e)})),(0,a.createElement)("div",{class:"card-content"},(0,a.createElement)(l.RichText,{key:"editable",value:r,tagName:c,className:`title ${o}`,placeholder:"Add a title",preserveWhiteSpace:!0,multiline:!1,onChange:e=>{t({title:e}),e.length>55&&t({title:e.substring(0,54)+"&hellip;"})}}),(0,a.createElement)(l.RichText,{key:"editable",value:u,tagName:"p",className:"excerpt",placeholder:"Add an excerpt",allowedFormats:[],preserveWhiteSpace:!0,multiline:!1,onChange:e=>{t({excerpt:e}),e.length>110&&t({excerpt:e.substring(0,109)+"&hellip;"})}})),(0,a.createElement)("div",{class:"card-footer"},(0,a.createElement)("div",{class:"card-meta"},(0,a.createElement)(l.MediaUploadCheck,null,(0,a.createElement)(l.MediaUpload,{onSelect:e=>(e=>t({authorImageObj:e}))(e),allowedTypes:["image"],render:({open:e})=>(e=>p?(0,a.createElement)("img",{src:p.sizes.thumbnail.url,onClick:e,className:"author-image"}):(0,a.createElement)("div",{className:"author-button-container button-container"},(0,a.createElement)(n.Button,{onClick:e,className:"button button-small"},"Add image")))(e)})),(0,a.createElement)(l.RichText,{key:"editable",value:h,tagName:"span",className:"author",placeholder:"Author name",allowedFormats:[],preserveWhiteSpace:!0,multiline:!1,onChange:e=>t({author:e})})),(0,a.createElement)(l.RichText,{key:"editable",value:m,tagName:"button",className:"card-button",placeholder:"Button text",multiline:!1,onChange:e=>t({buttonText:e})})),(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(n.Panel,null,(0,a.createElement)(n.PanelBody,{title:"Title",initialOpen:!0},(0,a.createElement)(n.SelectControl,{label:"Title Tag",value:c,options:[{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>t({titleTag:e})}),(0,a.createElement)(n.SelectControl,{label:"Title Size",value:o,options:[{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>t({titleClass:e})})),(0,a.createElement)(n.PanelBody,{title:"Link",initialOpen:!0},(0,a.createElement)(n.TextControl,{label:"URL",value:s,onChange:e=>t({linkUrl:e}),placeholder:"http://"})))))]})),save:function({attributes:e}){const{title:t,titleTag:n,titleClass:i,linkUrl:c,excerpt:o,buttonText:s,imageObj:u,author:m,authorImageObj:d}=e,h=n,p=(0,a.createElement)(a.Fragment,null,null!==u&&u.sizes.md_3x2&&(0,a.createElement)("div",{class:"card-media"},(0,a.createElement)("img",{className:`image wp-image-${u.id}`,src:u.sizes.md_3x2.url})),(0,a.createElement)("div",{class:"card-content"},(0,a.createElement)(h,{className:`title ${i}`},t),(0,a.createElement)("p",{class:"excerpt"},o)),(0,a.createElement)("div",{class:"card-footer"},(0,a.createElement)("div",{class:"card-meta"},null!==d&&(0,a.createElement)("img",{class:"author-image",src:d.sizes.thumbnail.url}),(0,a.createElement)("span",{class:"author"},m)),(0,a.createElement)("button",{class:"card-button"},s)));return(0,a.createElement)(a.Fragment,null,""!==c&&(0,a.createElement)("a",r({href:c},l.useBlockProps.save()),p),""==c&&(0,a.createElement)("div",l.useBlockProps.save(),p))}})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,a,n,r){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],r=e[u][2];for(var c=!0,o=0;o<a.length;o++)(!1&r||i>=r)&&Object.keys(l.O).every((function(e){return l.O[e](a[o])}))?a.splice(o--,1):(c=!1,r<i&&(i=r));if(c){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,n,r]},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],c=a[1],o=a[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(n in c)l.o(c,n)&&(l.m[n]=c[n]);if(o)var u=o(l)}for(t&&t(a);s<i.length;s++)r=i[s],l.o(e,r)&&e[r]&&e[r][0](),e[i[s]]=0;return l.O(u)},a=self.webpackChunkcard=self.webpackChunkcard||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=l.O(void 0,[46],(function(){return l(837)}));n=l.O(n)}();